<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Embedded HTTP Worker · Camunda Cloud Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Worker"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Embedded HTTP Worker · Camunda Cloud Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://camunda-cloud.github.io/"/><meta property="og:description" content="## Worker"/><meta property="og:image" content="https://camunda-cloud.github.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://camunda-cloud.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/camunda-cloud-logo.png" alt="Camunda Cloud Docs"/><h2 class="headerTitleWithLogo">Camunda Cloud Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/welcome" target="_self">Docs</a></li><li class=""><a href="/help" target="_self">Help</a></li><li class=""><a href="/users" target="_self">Users</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Embedded HTTP Worker</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="worker"></a><a href="#worker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Worker</h2>
<p>For each Zeebe cluster, an HTTP worker is provisioned that is automatically connected to Zeebe. This worker can be used to execute HTTP requests without having to provide a separate worker to process the corresponding jobs.</p>
<p>For this purpose the officially offered <a href="https://github.com/zeebe-io/zeebe-http-worker">Java HTTP Worker</a> is provided.</p>
<h2><a class="anchor" aria-hidden="true" id="usage"></a><a href="#usage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2>
<p>To be able to use the embedded HTTP Worker, two places in the workflow have to be configured. Open the Zeebe Modeler, create a new workflow (or open an existing one) and add a service task to the workflow.</p>
<p>Now select the Service Task. On the right side, you'll find the property panel. The job type must be configured there, which is for the embedded worker <code>CAMUNDA-HTTP</code>. All jobs of this type are processed by the embedded worker.</p>
<p><img src="./assets/workflow-calling-webhook-site-service-task-properties-general.png" alt="worker-properties-general"></p>
<p>Additionally, you can configure what the Service Task should be called and how often the step should be retried if it fails.</p>
<p>Now the actual HTTP request must be configured. Two parameters are required for this. Switch to the tab <em>Headers</em>:</p>
<ul>
<li><code>url</code>: URL of the HTTP endpoint</li>
<li><code>method</code>: request type (<code>GET</code>, <code>POST</code>, <code>PATCH</code>, ...)</li>
</ul>
<p><img src="./assets/workflow-calling-webhook-site-service-task-properties-headers.png" alt="worker-properties-headers"></p>
<h2><a class="anchor" aria-hidden="true" id="worker-variables"></a><a href="#worker-variables" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Worker Variables</h2>
<p>The parameters configured above are stored in the corresponding BPMN definition. There are values that may change or are dynamic and you may not want to store them in the BPMN model. An example would be the URL for different environments. The workflow itself is identical everywhere, but the HTTP endpoints are different:</p>
<ul>
<li>DEV: <em><a href="https://dev.myserviceurl.io/api/">https://dev.myserviceurl.io/api/</a></em></li>
<li>LIVE: <em><a href="https://live.myserviceurl.io/api/">https://live.myserviceurl.io/api/</a></em></li>
</ul>
<p>For such cases the Camunda Cloud Worker offers variables that can be substituted by the worker. Switch to the cluster detail view and search for the section <em>Worker Variables</em>. Add a new variable:</p>
<ul>
<li><code>Key</code>: this value is entered into the BPMN model</li>
<li><code>Value</code>: the worker replaces the key with this value</li>
</ul>
<p>Keys must be unique.</p>
<p><img src="./assets/workflow-calling-webhook-site-worker-variables.png" alt="worker-variables"></p>
<p>Worker variables are exchanged with the help of <a href="https://github.com/spullara/mustache.java">mustache</a>, i.e. they must be included in the workflow definition in the form <code>{{key}}</code>.</p>
<p>For the example above, the header parameter URL looks like this:</p>
<pre><code class="hljs css language-bash">https://{{stage}}.myserviceurl.io/api/
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 3/18/2020</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#worker">Worker</a></li><li><a href="#usage">Usage</a></li><li><a href="#worker-variables">Worker Variables</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"></a><div><h5>Docs</h5><a href="/docs/en/welcome.html">Welcome</a><a href="/docs/en/quick-start.html">Quick start</a></div><div><h5>Community</h5><a href="https://zeebe-io.slack.com/">Community Chat</a><a href="https://twitter.com/camunda" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://blog.camunda.com/">Blog</a><a href="https://github.com/camunda">GitHub</a><a href="https://console.cloud.camunda.io/terms/">Terms and Conditions</a></div></section><section class="copyright">Copyright © 2020 Camunda Cloud</section></footer></div></body></html>